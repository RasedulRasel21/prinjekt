{% comment %}
  Mosaic Image Gallery
  Layout:
    a b c h d
    e e c h f
{% endcomment %}

{{ 'section-gallery-showcase.css' | asset_url | stylesheet_tag }}


<section class="main-mos" id="mos-{{ section.id }}">
  <div class="mos">
    {% if section.settings.heading != blank or section.settings.subheading != blank %}
      <header class="mos__header">
        {% if section.settings.heading != blank %}
          <h2 class="mos__title">{{ section.settings.heading | escape }}</h2>
        {% endif %}
        {% if section.settings.subheading != blank %}
          <p class="mos__subtitle">{{ section.settings.subheading | escape }}</p>
        {% endif %}
      </header>
    {% endif %}
  
    {% assign gap_px = section.settings.gap | default: 16 %}
    {% assign radius = section.settings.corner_radius | default: 12 %}
  
    {%- comment -%} sizes tuned for 5 columns on desktop {%- endcomment -%}
    {% assign sizes_desktop = "(min-width: 1200px) calc(100vw/5), (min-width: 750px) calc((100vw - 96px)/5), calc((100vw - 48px)/2)" %}
    {% assign widths_all = "480,640,800,1024,1280,1600,2000,2400,3200" %}
  
    <div class="mos__grid" style="--mos-gap: {{ gap_px }}px; --mos-radius: {{ radius }}px;">
  
      {%- comment -%} a (square) {%- endcomment -%}
      {% assign img = section.settings.a_image %}
      {% assign alt = section.settings.a_alt | default: img.alt | default: '' %}
      {% assign link = section.settings.a_link %}
      <div class="mos__cell mos__a">
        {% if link != blank %}<a href="{{ link }}" class="mos__wrap mos--sq">{% else %}<div class="mos__wrap mos--sq">{% endif %}
          {% if img != blank %}
            {{ img | image_url: width: 3200 | image_tag: loading: 'lazy', class: 'mos__img', alt: alt, sizes: sizes_desktop, widths: widths_all }}
          {% else %}<div class="mos__ph">Image</div>{% endif %}
        {% if link != blank %}</a>{% else %}</div>{% endif %}
      </div>
  
      {%- comment -%} b (square) {%- endcomment -%}
      {% assign img = section.settings.b_image %}
      {% assign alt = section.settings.b_alt | default: img.alt | default: '' %}
      {% assign link = section.settings.b_link %}
      <div class="mos__cell mos__b">
        {% if link != blank %}<a href="{{ link }}" class="mos__wrap mos--sq">{% else %}<div class="mos__wrap mos--sq">{% endif %}
          {% if img != blank %}
            {{ img | image_url: width: 3200 | image_tag: loading: 'lazy', class: 'mos__img', alt: alt, sizes: sizes_desktop, widths: widths_all }}
          {% else %}<div class="mos__ph">Image</div>{% endif %}
        {% if link != blank %}</a>{% else %}</div>{% endif %}
      </div>
  
      {%- comment -%} c (tall) {%- endcomment -%}
      {% assign img = section.settings.c_image %}
      {% assign alt = section.settings.c_alt | default: img.alt | default: '' %}
      {% assign link = section.settings.c_link %}
      <div class="mos__cell mos__c">
        {% if link != blank %}<a href="{{ link }}" class="mos__wrap mos--tall">{% else %}<div class="mos__wrap mos--tall">{% endif %}
          {% if img != blank %}
            {{ img | image_url: width: 3200 | image_tag: loading: 'lazy', class: 'mos__img', alt: alt, sizes: sizes_desktop, widths: widths_all }}
          {% else %}<div class="mos__ph">Image</div>{% endif %}
        {% if link != blank %}</a>{% else %}</div>{% endif %}
      </div>
  
      {%- comment -%} h (second tall) {%- endcomment -%}
      {% assign img = section.settings.h_image %}
      {% assign alt = section.settings.h_alt | default: img.alt | default: '' %}
      {% assign link = section.settings.h_link %}
      <div class="mos__cell mos__h">
        {% if link != blank %}<a href="{{ link }}" class="mos__wrap mos--tall">{% else %}<div class="mos__wrap mos--tall">{% endif %}
          {% if img != blank %}
            {{ img | image_url: width: 3200 | image_tag: loading: 'lazy', class: 'mos__img', alt: alt, sizes: sizes_desktop, widths: widths_all }}
          {% else %}<div class="mos__ph">Image</div>{% endif %}
        {% if link != blank %}</a>{% else %}</div>{% endif %}
      </div>
  
      {%- comment -%} d (top-right small) {%- endcomment -%}
      {% assign img = section.settings.d_image %}
      {% assign alt = section.settings.d_alt | default: img.alt | default: '' %}
      {% assign link = section.settings.d_link %}
      <div class="mos__cell mos__d">
        {% if link != blank %}<a href="{{ link }}" class="mos__wrap mos--sq">{% else %}<div class="mos__wrap mos--sq">{% endif %}
          {% if img != blank %}
            {{ img | image_url: width: 3200 | image_tag: loading: 'lazy', class: 'mos__img', alt: alt, sizes: sizes_desktop, widths: widths_all }}
          {% else %}<div class="mos__ph">Image</div>{% endif %}
        {% if link != blank %}</a>{% else %}</div>{% endif %}
      </div>
  
      {%- comment -%} e (wide, under a+b) {%- endcomment -%}
      {% assign img = section.settings.e_image %}
      {% assign alt = section.settings.e_alt | default: img.alt | default: '' %}
      {% assign link = section.settings.e_link %}
      <div class="mos__cell mos__e">
        {% if link != blank %}<a href="{{ link }}" class="mos__wrap mos--wide">{% else %}<div class="mos__wrap mos--wide">{% endif %}
          {% if img != blank %}
            {{ img | image_url: width: 3200 | image_tag: loading: 'lazy', class: 'mos__img', alt: alt, sizes: sizes_desktop, widths: widths_all }}
          {% else %}<div class="mos__ph">Image</div>{% endif %}
        {% if link != blank %}</a>{% else %}</div>{% endif %}
      </div>
  
      {%- comment -%} f (bottom-right small) {%- endcomment -%}
      {% assign img = section.settings.f_image %}
      {% assign alt = section.settings.f_alt | default: img.alt | default: '' %}
      {% assign link = section.settings.f_link %}
      <div class="mos__cell mos__f">
        {% if link != blank %}<a href="{{ link }}" class="mos__wrap mos--sq">{% else %}<div class="mos__wrap mos--sq">{% endif %}
          {% if img != blank %}
            {{ img | image_url: width: 3200 | image_tag: loading: 'lazy', class: 'mos__img', alt: alt, sizes: sizes_desktop, widths: widths_all }}
          {% else %}<div class="mos__ph">Image</div>{% endif %}
        {% if link != blank %}</a>{% else %}</div>{% endif %}
      </div>
  
    </div>
  
    {% if section.settings.button_label != blank and section.settings.button_link != blank %}
      <div class="mos__cta">
        <a class="mos__btn mos__btn--{{ section.settings.button_style }}" href="{{ section.settings.button_link }}">
          {{ section.settings.button_label | escape }}
        </a>
      </div>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Mosaic gallery",
  "tag": "section",
  "class": "section",
  "settings": [
    { "type": "text", "id": "heading", "label": "Heading" },
    { "type": "text", "id": "subheading", "label": "Subheading" },
    { "type": "range", "id": "gap", "label": "Grid gap (px)", "min": 0, "max": 32, "step": 2, "default": 16 },
    { "type": "range", "id": "corner_radius", "label": "Corner radius (px)", "min": 0, "max": 24, "step": 1, "default": 12 },

    { "type": "image_picker", "id": "a_image", "label": "Image A (top-left small)" },
    { "type": "url", "id": "a_link", "label": "Link A (optional)" },
    { "type": "text", "id": "a_alt", "label": "Alt A" },

    { "type": "image_picker", "id": "b_image", "label": "Image B (top-mid small)" },
    { "type": "url", "id": "b_link", "label": "Link B (optional)" },
    { "type": "text", "id": "b_alt", "label": "Alt B" },

    { "type": "image_picker", "id": "e_image", "label": "Image E (wide below A+B)" },
    { "type": "url", "id": "e_link", "label": "Link E (optional)" },
    { "type": "text", "id": "e_alt", "label": "Alt E" },

    { "type": "image_picker", "id": "c_image", "label": "Image C (tall middle #1)" },
    { "type": "url", "id": "c_link", "label": "Link C (optional)" },
    { "type": "text", "id": "c_alt", "label": "Alt C" },

    { "type": "image_picker", "id": "h_image", "label": "Image H (tall middle #2)" },
    { "type": "url", "id": "h_link", "label": "Link H (optional)" },
    { "type": "text", "id": "h_alt", "label": "Alt H" },

    { "type": "image_picker", "id": "d_image", "label": "Image D (top-right small)" },
    { "type": "url", "id": "d_link", "label": "Link D (optional)" },
    { "type": "text", "id": "d_alt", "label": "Alt D" },

    { "type": "image_picker", "id": "f_image", "label": "Image F (bottom-right small)" },
    { "type": "url", "id": "f_link", "label": "Link F (optional)" },
    { "type": "text", "id": "f_alt", "label": "Alt F" },

    { "type": "text", "id": "button_label", "label": "Button label", "default": "Mehr Beispiele ansehen" },
    { "type": "url",  "id": "button_link",  "label": "Button link" },
    { "type": "select", "id": "button_style", "label": "Button style", "default": "primary",
      "options": [
        { "value": "primary", "label": "Primary" },
        { "value": "secondary", "label": "Secondary" }
      ]
    }
  ],
  "presets": [{ "name": "Mosaic gallery", "category": "Image" }]
}
{% endschema %}

