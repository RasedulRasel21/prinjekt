{{ 'section-3d-hero.css' | asset_url | stylesheet_tag }}

<div class="hero-3d-section">
  {%- if section.settings.video_url != blank -%}
    <div class="hero-3d-video-background">
      <video autoplay muted loop playsinline class="hero-3d-video">
        <source src="{{ section.settings.video_url }}" type="video/mp4">
      </video>
      <div class="hero-3d-video-overlay"></div>
    </div>
  {%- endif -%}

  <div class="hero-3d-container page-width">
    <div class="hero-3d-content">
      {%- if section.settings.heading != blank -%}
        <h1 class="hero-3d-heading">
          <span class="hero-3d-heading-highlight-group">
            <span class="hero-3d-heading-highlight">3D-Druck</span> in
          </span>
          h√∂chster Qualit√§t
        </h1>
      {%- endif -%}

      {%- if section.settings.description != blank -%}
        <p class="hero-3d-description">{{ section.settings.description }}</p>
      {%- endif -%}

      {%- if section.blocks.size > 0 -%}
        <div class="hero-3d-features-container">
          <div class="hero-3d-features">
            {%- for block in section.blocks -%}
              {%- if block.type == 'feature' -%}
                {%- if block.settings.button_link != blank -%}
                  <a href="{{ block.settings.button_link }}" class="hero-3d-feature hero-3d-feature-link" {{ block.shopify_attributes }}>
                    
                    {%- comment -%} Prioritize SVG code, fallback to icon {%- endcomment -%}
                    {%- if block.settings.svg_code != blank -%}
                      <span class="hero-3d-feature-icon">{{ block.settings.svg_code }}</span>
                    {%- elsif block.settings.icon != blank -%}
                      <span class="hero-3d-feature-icon">{{ block.settings.icon }}</span>
                    {%- endif -%}

                    <span class="hero-3d-feature-text">{{ block.settings.text }}</span>
                  </a>
                {%- else -%}
                  <div class="hero-3d-feature" {{ block.shopify_attributes }}>
                    
                    {%- if block.settings.svg_code != blank -%}
                      <span class="hero-3d-feature-icon">{{ block.settings.svg_code }}</span>
                    {%- elsif block.settings.icon != blank -%}
                      <span class="hero-3d-feature-icon">{{ block.settings.icon }}</span>
                    {%- endif -%}

                    <span class="hero-3d-feature-text">{{ block.settings.text }}</span>
                  </div>
                {%- endif -%}
              {%- endif -%}
            {%- endfor -%}
          </div>
        </div>
      {%- endif -%}


      <div class="hero-outer-box">
        <div class="hero-3d-cta-box">
          <p class="hero-3d-cta-text">{{ section.settings.cta_text }}</p>
          {%- if section.settings.button_text != blank -%}
            <a href="{{ section.settings.button_link }}" class="hero-3d-button">
              {{ section.settings.button_text }}
            </a>
          {%- endif -%}
        </div>
        {%- if section.settings.privacy_text != blank -%}
          <p class="hero-3d-privacy">{{ section.settings.privacy_text }}</p>
        {%- endif -%}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "3D Hero Section",
  "tag": "section",
  "class": "section-3d-hero",
  "settings": [
    {
      "type": "text",
      "id": "video_url",
      "label": "Video URL",
      "info": "Enter the full URL to your video file (MP4 format recommended)"
    },
    {
      "type": "text",
      "id": "heading_highlight",
      "label": "Heading Highlight",
      "default": "3D-Druck"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "in h√∂chster Qualit√§t"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "Unsere Leidenschaft gilt dem 3D-Druck und das spiegelt sich in jedem Detail wieder. Wir fertigen Ihr Modell nach Ihren individuellen W√ºnschen und beraten Sie bei der Auswahl des besten Materials. Bei Bedarf begleiten wir Ihre Projektidee von der Konstruktion bis zum Druck."
    },
    {
      "type": "text",
      "id": "cta_text",
      "label": "CTA Box Text",
      "default": "Klicken Sie auf den Link, um mit Ihrem 3D-Druck zu beginnen"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "3D-Druck starten"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button Link"
    },
    {
      "type": "text",
      "id": "privacy_text",
      "label": "Privacy Text",
      "default": "Alle Uploads sind gesch√ºtzt und werden nicht weitergegeben."
    }
  ],
  "blocks": [
    {
      "type": "feature",
      "name": "Feature",
      "settings": [
        {
          "type": "text",
          "id": "icon",
          "label": "Icon",
          "info": "Enter emoji or icon character"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button Link",
          "info": "Enter the URL for the button."
        },
        {
          "type": "text",
          "id": "text",
          "label": "Feature Text"
        },
        {
          "type": "textarea",
          "id": "svg_code",
          "label": "Custom SVG Code",
          "info": "Paste raw SVG markup. This will replace the icon if used."
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "3D Hero Section",
      "blocks": [
        {
          "type": "feature",
          "settings": {
            "icon": "üì¶",
            "text": "Prototyping"
          }
        },
        {
          "type": "feature",
          "settings": {
            "icon": "‚öôÔ∏è",
            "text": "Einzelauftr√§ge"
          }
        },
        {
          "type": "feature",
          "settings": {
            "icon": "üìã",
            "text": "Serienanfertigungen"
          }
        }
      ]
    }
  ]
}
{% endschema %}